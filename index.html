<!DOCTYPE html>
<html lang="es">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1">
  <!-- Título actualizado -->
  <title>Evaluación de Física: Presión en Fluidos</title> 
  <style>
    body { font-family: sans-serif; max-width: 900px; margin: auto; padding: 20px; background: #f9f9f9; }
    h1, h2 { text-align: center; }
    .encabezado { text-align: center; margin-bottom: 20px; }
    .pregunta { background: #fff; padding: 15px; border-radius: 8px; margin-bottom: 20px; box-shadow: 0 2px 5px rgba(0,0,0,0.1);}
    button { padding: 12px 25px; font-size: 1em; background: #007acc; color: white; border: none; border-radius: 8px; cursor: pointer; }
    button:hover { background: #005e99; }
    #resultado { font-weight: bold; color: green; margin-top: 20px; text-align: center; }
  </style>
</head>
<body>

  <div class="encabezado">
    <!-- Mantenemos el mismo encabezado visual -->
    <img src="Encab_Taller_Physics_Rosales_backup.svg" alt="Encabezado Evaluación Física" style="width: 100%; max-width: 1200px; height: auto;">
    <!-- Título del H1 actualizado -->
    <h1>Evaluación de Física: Presión en Fluidos</h1> 
    <p><strong>Autor:</strong> Hayzar Hernández Bustos – IED Los Rosales</p>
    <p><strong>Fecha limite de entrega:</strong> 10 de mayo de 2025</p>
  </div>
  
  <!-- Campos de Nombre y Grado (iguales) -->
  <div class="pregunta">
    <p>Nombre completo:</p>
    <input type="text" id="nombre" name="nombre" required>
  </div>
  <div class="pregunta">
    <p>Grado:</p>
    <input type="text" id="grado" name="grado" required>
  </div>

  <h2>Responda seleccionando una única opción por pregunta</h2>

  <form id="formulario">
    <!-- Pregunta 1 (Presión Fluidos) -->
    <div class="pregunta">
      <p><strong>Competencia:</strong> Explicación de Fenómenos (EF)</p>
      <p>1. Un submarino sube de 50m a 20m de profundidad. ¿Qué sucede con la presión hidrostática que experimenta?</p>
      <input type="radio" name="p1" value="a"> Aumenta<br>
      <input type="radio" name="p1" value="b"> Disminuye<br>
      <input type="radio" name="p1" value="c"> Permanece igual<br>
      <input type="radio" name="p1" value="d"> Depende de la presión atmosférica<br>
    </div>

    <!-- Pregunta 2 (Presión Fluidos) -->
    <div class="pregunta">
      <p><strong>Competencia:</strong> Indagación (I)</p>
      <p>2. Dos líquidos (agua ρ₁ y aceite ρ₂, ρ₂ &lt; ρ₁) llenan recipientes idénticos a la misma altura h. Compara las presiones P₁ y P₂ en el fondo.</p>
      <input type="radio" name="p2" value="a"> P₁ &lt; P₂<br>
      <input type="radio" name="p2" value="b"> P₁ = P₂<br>
      <input type="radio" name="p2" value="c"> P₁ &gt; P₂<br>
      <input type="radio" name="p2" value="d"> No se puede determinar<br>
    </div>

    <!-- Pregunta 3 (Presión Fluidos) -->
    <div class="pregunta">
      <p><strong>Competencia:</strong> Uso Comprensivo del Conocimiento Científico (UCcC)</p>
      <p>3. ¿De qué factores principales depende la presión en un punto dentro de un fluido en reposo?</p>
      <input type="radio" name="p3" value="a"> Forma del recipiente, temperatura, densidad<br>
      <input type="radio" name="p3" value="b"> Presión atmosférica, profundidad, densidad<br>
      <input type="radio" name="p3" value="c"> Volumen del fluido, profundidad, gravedad<br>
      <input type="radio" name="p3" value="d"> Masa del fluido, área, temperatura<br>
    </div>

    <!-- Pregunta 4 (Presión Fluidos) -->
    <div class="pregunta">
      <p><strong>Competencia:</strong> Uso Comprensivo del Conocimiento Científico (UCcC)</p>
      <p>4. En vasos comunicantes con agua en equilibrio, ¿cómo son los niveles en los tres vasos?</p>
        <img src="vasos-comunicantes.png" alt="Vasos comunicantes" style="max-width:50%; height:auto; display: block;">
      <!-- Nota: Añadir imagen real aquí si es posible -->
      <p><em>(Imagine vasos comunicantes de distintas formas)</em></p> 
      <input type="radio" name="p4" value="a"> Más alto en el vaso estrecho<br>
      <input type="radio" name="p4" value="b"> Más alto en el vaso ancho<br>
      <input type="radio" name="p4" value="c"> Iguales en los tres vasos<br>
      <input type="radio" name="p4" value="d"> Depende del volumen total<br>
    </div>

    <!-- Pregunta 5 (Presión Fluidos) -->
    <div class="pregunta">
      <p><strong>Competencia:</strong> Uso Comprensivo del Conocimiento Científico (UCcC)</p>
      <p>5. El principio de Pascal establece que un cambio de presión en un fluido encerrado se transmite...</p>
      <input type="radio" name="p5" value="a"> ... solo hacia el fondo.<br>
      <input type="radio" name="p5" value="b"> ... principalmente a las paredes.<br>
      <input type="radio" name="p5" value="c"> ... con igual intensidad en todas direcciones y puntos.<br>
      <input type="radio" name="p5" value="d"> ... disminuyendo con la distancia.<br>
    </div>

    <!-- Pregunta 6 (Presión Fluidos) -->
    <div class="pregunta">
      <p><strong>Competencia:</strong> Explicación de Fenómenos (EF)</p>
      <p>6. El funcionamiento de la prensa hidráulica se basa en que:</p>
      <input type="radio" name="p6" value="a"> La fuerza se transmite íntegramente.<br>
      <input type="radio" name="p6" value="b"> Pequeña fuerza en área pequeña genera gran fuerza en área grande.<br>
      <input type="radio" name="p6" value="c"> El fluido reduce la fricción.<br>
      <input type="radio" name="p6" value="d"> La presión disminuye al pasar al pistón grande.<br>
    </div>

    <!-- Pregunta 7 (Presión Fluidos) -->
    <div class="pregunta">
      <p><strong>Competencia:</strong> Indagación (I)</p>
      <p>7. En una prensa hidráulica A₂ = 5A₁. Si aplicas F₁ en A₁, ¿cuál es la fuerza F₂ en A₂?</p>
      <input type="radio" name="p7" value="a"> F₂ = F₁ / 5<br>
      <input type="radio" name="p7" value="b"> F₂ = F₁<br>
      <input type="radio" name="p7" value="c"> F₂ = 5 F₁<br>
      <input type="radio" name="p7" value="d"> F₂ = 25 F₁<br>
    </div>

    <!-- Pregunta 8 (Presión Fluidos) -->
    <div class="pregunta">
      <p><strong>Competencia:</strong> Explicación de Fenómenos (EF)</p>
      <p>8. ¿Por qué un buzo siente dolor en los oídos al descender rápidamente?</p>
      <input type="radio" name="p8" value="a"> Por disminución de temperatura.<br>
      <input type="radio" name="p8" value="b"> Por aumento de salinidad.<br>
      <input type="radio" name="p8" value="c"> Porque la presión exterior supera rápidamente a la interior del oído.<br>
      <input type="radio" name="p8" value="d"> Porque la presión atmosférica disminuye.<br>
    </div>

    <!-- Pregunta 9 (Presión Fluidos) -->
    <div class="pregunta">
      <p><strong>Competencia:</strong> Indagación (I)</p>
      <p>9. En un manómetro en U, si el mercurio está más alto en la rama conectada al gas que en la abierta a la atmósfera, la presión del gas es:</p>
      <img src="Tubo-u-mercurio.png" alt="Manometro en U" style="max-width:100%; height:auto; display: block;">
      <!-- Nota: Añadir imagen real aquí si es posible -->
      <p><em>(Imagine un manómetro en U en esa configuración)</em></p> 
      <input type="radio" name="p9" value="a"> Mayor que la atmosférica.<br>
      <input type="radio" name="p9" value="b"> Igual a la atmosférica.<br>
      <input type="radio" name="p9" value="c"> Menor que la atmosférica.<br>
      <input type="radio" name="p9" value="d"> Imposible determinar sin la temperatura.<br>
    </div>

    <!-- Pregunta 10 (Presión Fluidos) -->
    <div class="pregunta">
      <p><strong>Competencia:</strong> Indagación (I)</p>
      <p>10. Un objeto se sumerge a la misma profundidad en agua (más densa) y aceite (menos denso). ¿Dónde es mayor la presión sobre su cara superior?</p>
      <input type="radio" name="p10" value="a"> En el aceite.<br>
      <input type="radio" name="p10" value="b"> En el agua.<br>
      <input type="radio" name="p10" value="c"> Igual en ambos.<br>
      <input type="radio" name="p10" value="d"> Depende de la forma.<br>
    </div>

    <!-- Botón y div resultado (iguales) -->
    <button type="button" onclick="evaluar()">Enviar respuestas</button>
  </form>

  <div id="resultado"></div>

<script>
  function evaluar() {
    // **Respuestas Correctas ACTUALIZADAS para Presión en Fluidos**
    const respuestasCorrectas = { 
      p1:'b', p2:'c', p3:'b', p4:'c', p5:'c', 
      p6:'b', p7:'c', p8:'c', p9:'c', p10:'b' 
    };
    let puntaje = 0;
    let datos = {};

    // Capturar nombre y grado (igual)
    const nombre = document.getElementById("nombre").value.trim();
    const grado = document.getElementById("grado").value.trim();

    if (!nombre || !grado) {
      alert("Por favor completa tu nombre y grado antes de enviar.");
      return;
    }

    datos['nombre'] = nombre;
    datos['grado'] = grado;
    datos['evaluacion'] = 'Presion en Fluidos'; // Añadido para identificar la evaluación

    // Capturar respuestas y calcular puntaje (igual)
    for (let key in respuestasCorrectas) {
      const seleccion = document.querySelector(`input[name="${key}"]:checked`);
      if (seleccion) {
        datos[key] = seleccion.value; // Guarda la letra seleccionada 'a', 'b', 'c' o 'd'
        if (seleccion.value === respuestasCorrectas[key]) {
          puntaje++;
        }
      } else {
        datos[key] = ''; // Guarda vacío si no respondió
      }
    }

    datos['puntaje'] = puntaje; // Guarda el puntaje numérico (0-10)
    
    // Calcular nota sobre 5 (opcional, si quieres enviarla también)
    const notaSobre5 = (puntaje / 10) * 5;
    datos['nota_sobre_5'] = notaSobre5.toFixed(2); // Guarda la nota con 2 decimales

    // Añadir Timestamp
    datos['timestamp'] = new Date().toISOString();


    // Mostrar puntaje en pantalla (igual)
    document.getElementById("resultado").innerHTML = `Tu puntaje es: ${puntaje} / 10. Nota (0-5): ${notaSobre5.toFixed(2)}`;

    // Enviar a Google Sheets (misma URL, asumiendo que está preparada para recibir de ambas)
    // **Importante**: Se añadió 'evaluacion' y 'nota_sobre_5' a los datos enviados.
    // Asegúrate que tu Google Apps Script esté preparado para recibir y almacenar estos campos.
    fetch('https://script.google.com/macros/s/AKfycbx0AErvOM52GcYIAUEtD2WiA7XXHGpTyUUhLPvg011kA0zKJJbfZMS4iGK4jl8P5BkZ5w/exec', {
      method: 'POST',
      mode: 'no-cors', // no-cors es necesario para evitar errores CORS con Google Apps Script si no se configura respuesta JSONP
      cache: 'no-cache', // Evitar cache
      redirect: 'follow', // Seguir redirecciones
      referrerPolicy: 'no-referrer', // No enviar info de referrer
      body: JSON.stringify(datos) // Enviar como JSON string
    })
    .then(() => {
        console.log("Datos enviados (o intento realizado con no-cors).");
        // Podrías deshabilitar el botón aquí para evitar reenvíos
        // document.querySelector('button').disabled = true; 
        alert("Respuestas enviadas correctamente. Tu puntaje es: " + puntaje + "/10. Nota: " + notaSobre5.toFixed(2));
    })
    .catch(error => {
        console.error('Error al enviar datos:', error);
        alert('Hubo un error al enviar tus respuestas. Por favor, inténtalo de nuevo o contacta al profesor.');
    });
  }
</script>

</body>
</html>

